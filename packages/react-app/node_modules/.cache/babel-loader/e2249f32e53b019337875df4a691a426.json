{"ast":null,"code":"var _jsxFileName = \"/mnt/STUDY/HOC/Thesis/playground/dex/packages/react-app/src/App.jsx\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport { useQuery } from '@apollo/client';\nimport { Contract } from '@ethersproject/contracts';\nimport { shortenAddress, useCall, useEthers, useLookupAddress } from '@usedapp/core';\nimport React, { useEffect, useState } from 'react';\nimport { Body, Button, Container, Header, Image, Link } from './components';\nimport logo from './ethereumLogo.png';\nimport { MAINNET_ID, addresses, abis } from '@uniswap-v2-app/contracts';\nimport GET_AGGREGATED_UNISWAP_DATA from './graphql/subgraph';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction WalletButton() {\n  _s();\n\n  const [rendered, setRendered] = useState('');\n  const ens = useLookupAddress();\n  const {\n    account,\n    activateBrowserWallet,\n    deactivate,\n    error\n  } = useEthers();\n  useEffect(() => {\n    if (ens) {\n      setRendered(ens);\n    } else if (account) {\n      setRendered(shortenAddress(account));\n    } else {\n      setRendered('');\n    }\n  }, [account, ens, setRendered]);\n  useEffect(() => {\n    if (error) {\n      console.error('Error while connecting wallet:', error.message);\n    }\n  }, [error]);\n  return /*#__PURE__*/_jsxDEV(Button, {\n    onClick: () => {\n      if (!account) {\n        activateBrowserWallet();\n      } else {\n        deactivate();\n      }\n    },\n    children: [rendered === '' && 'Connect Wallet', rendered !== '' && rendered]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 35,\n    columnNumber: 5\n  }, this);\n}\n\n_s(WalletButton, \"rHPm32Ums1lNcs0Y2U4L/wqP/tg=\", false, function () {\n  return [useLookupAddress, useEthers];\n});\n\n_c = WalletButton;\n\nfunction App() {\n  _s2();\n\n  var _useCall;\n\n  // Read more about useDapp on https://usedapp.io/\n  const {\n    error: contractCallError,\n    value: reserves\n  } = (_useCall = useCall({\n    contract: new Contract(addresses[MAINNET_ID].pairs['DAI-WETH'], abis.pair),\n    method: 'getReserves',\n    args: []\n  })) !== null && _useCall !== void 0 ? _useCall : {};\n  const {\n    loading,\n    error: subgraphQueryError,\n    data\n  } = useQuery(GET_AGGREGATED_UNISWAP_DATA);\n  useEffect(() => {\n    if (subgraphQueryError) {\n      console.error('Error while querying subgraph:', subgraphQueryError.message);\n      return;\n    }\n\n    if (!loading && data && data.uniswapFactories) {\n      console.log({\n        uniswapFactories: data.uniswapFactories\n      });\n    }\n  }, [loading, subgraphQueryError, data]);\n  return /*#__PURE__*/_jsxDEV(Container, {\n    children: [/*#__PURE__*/_jsxDEV(Header, {\n      children: /*#__PURE__*/_jsxDEV(WalletButton, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Body, {\n      children: [/*#__PURE__*/_jsxDEV(Image, {\n        src: logo,\n        alt: \"ethereum-logo\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-red-100\",\n        children: [\"Edit \", /*#__PURE__*/_jsxDEV(\"code\", {\n          children: \"packages/react-app/src/App.js\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 16\n        }, this), \" and save to reload.\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Link, {\n        href: \"https://reactjs.org\",\n        children: \"Learn React\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Link, {\n        href: \"https://usedapp.io/\",\n        children: \"Learn useDapp\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Link, {\n        href: \"https://uniswap.org/docs/v2/\",\n        children: \"Learn Uniswap v2\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 72,\n    columnNumber: 5\n  }, this);\n}\n\n_s2(App, \"ce7HVGBEHRzJ7xiHAYJGTi8rZr8=\", false, function () {\n  return [useCall, useQuery];\n});\n\n_c2 = App;\nexport default App;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"WalletButton\");\n$RefreshReg$(_c2, \"App\");","map":{"version":3,"sources":["/mnt/STUDY/HOC/Thesis/playground/dex/packages/react-app/src/App.jsx"],"names":["useQuery","Contract","shortenAddress","useCall","useEthers","useLookupAddress","React","useEffect","useState","Body","Button","Container","Header","Image","Link","logo","MAINNET_ID","addresses","abis","GET_AGGREGATED_UNISWAP_DATA","WalletButton","rendered","setRendered","ens","account","activateBrowserWallet","deactivate","error","console","message","App","contractCallError","value","reserves","contract","pairs","pair","method","args","loading","subgraphQueryError","data","uniswapFactories","log"],"mappings":"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","sourcesContent":["import { useQuery } from '@apollo/client';\nimport { Contract } from '@ethersproject/contracts';\nimport { shortenAddress, useCall, useEthers, useLookupAddress } from '@usedapp/core';\nimport React, { useEffect, useState } from 'react';\n\nimport { Body, Button, Container, Header, Image, Link } from './components';\nimport logo from './ethereumLogo.png';\n\nimport { MAINNET_ID, addresses, abis } from '@uniswap-v2-app/contracts';\nimport GET_AGGREGATED_UNISWAP_DATA from './graphql/subgraph';\n\nfunction WalletButton() {\n  const [rendered, setRendered] = useState('');\n\n  const ens = useLookupAddress();\n  const { account, activateBrowserWallet, deactivate, error } = useEthers();\n\n  useEffect(() => {\n    if (ens) {\n      setRendered(ens);\n    } else if (account) {\n      setRendered(shortenAddress(account));\n    } else {\n      setRendered('');\n    }\n  }, [account, ens, setRendered]);\n\n  useEffect(() => {\n    if (error) {\n      console.error('Error while connecting wallet:', error.message);\n    }\n  }, [error]);\n\n  return (\n    <Button\n      onClick={() => {\n        if (!account) {\n          activateBrowserWallet();\n        } else {\n          deactivate();\n        }\n      }}\n    >\n      {rendered === '' && 'Connect Wallet'}\n      {rendered !== '' && rendered}\n    </Button>\n  );\n}\n\nfunction App() {\n  // Read more about useDapp on https://usedapp.io/\n  const { error: contractCallError, value: reserves } =\n    useCall({\n      contract: new Contract(addresses[MAINNET_ID].pairs['DAI-WETH'], abis.pair),\n      method: 'getReserves',\n      args: [],\n    }) ?? {};\n\n  const { loading, error: subgraphQueryError, data } = useQuery(GET_AGGREGATED_UNISWAP_DATA);\n\n  useEffect(() => {\n    if (subgraphQueryError) {\n      console.error('Error while querying subgraph:', subgraphQueryError.message);\n      return;\n    }\n    if (!loading && data && data.uniswapFactories) {\n      console.log({ uniswapFactories: data.uniswapFactories });\n    }\n  }, [loading, subgraphQueryError, data]);\n\n  return (\n    <Container>\n      <Header>\n        <WalletButton />\n      </Header>\n      <Body>\n        <Image src={logo} alt=\"ethereum-logo\" />\n        <p className=\"text-red-100\">\n          Edit <code>packages/react-app/src/App.js</code> and save to reload.\n        </p>\n        <Link href=\"https://reactjs.org\">Learn React</Link>\n        <Link href=\"https://usedapp.io/\">Learn useDapp</Link>\n        <Link href=\"https://uniswap.org/docs/v2/\">Learn Uniswap v2</Link>\n      </Body>\n    </Container>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}