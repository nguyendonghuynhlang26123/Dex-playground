{"ast":null,"code":"export function subscribeToNewBlock(provider, chainId, dispatch) {\n  if (provider && chainId !== undefined) {\n    const update = blockNumber => dispatch({\n      chainId,\n      blockNumber\n    });\n\n    provider.on('block', update);\n    provider.getBlockNumber().then(blockNumber => update(blockNumber), err => {\n      console.error(err);\n    });\n    return () => {\n      provider.off('block', update);\n    };\n  }\n\n  return () => undefined;\n}","map":{"version":3,"sources":["../../../../../../src/providers/blockNumber/common/subscribeToNewBlock.ts"],"names":[],"mappings":"AAKA,OAAM,SAAU,mBAAV,CACJ,QADI,EAEJ,OAFI,EAGJ,QAHI,EAGkC;AAEtC,MAAI,QAAQ,IAAI,OAAO,KAAK,SAA5B,EAAuC;AACrC,UAAM,MAAM,GAAI,WAAD,IAAyB,QAAQ,CAAC;AAAE,MAAA,OAAF;AAAW,MAAA;AAAX,KAAD,CAAhD;;AACA,IAAA,QAAQ,CAAC,EAAT,CAAY,OAAZ,EAAqB,MAArB;AAEA,IAAA,QAAQ,CAAC,cAAT,GAA0B,IAA1B,CACG,WAAD,IAAiB,MAAM,CAAC,WAAD,CADzB,EAEG,GAAD,IAAQ;AACN,MAAA,OAAO,CAAC,KAAR,CAAc,GAAd;AACD,KAJH;AAOA,WAAO,MAAK;AACV,MAAA,QAAQ,CAAC,GAAT,CAAa,OAAb,EAAsB,MAAtB;AACD,KAFD;AAGD;;AAED,SAAO,MAAM,SAAb;AACD","sourceRoot":"","sourcesContent":["export function subscribeToNewBlock(provider, chainId, dispatch) {\n    if (provider && chainId !== undefined) {\n        const update = (blockNumber) => dispatch({ chainId, blockNumber });\n        provider.on('block', update);\n        provider.getBlockNumber().then((blockNumber) => update(blockNumber), (err) => {\n            console.error(err);\n        });\n        return () => {\n            provider.off('block', update);\n        };\n    }\n    return () => undefined;\n}\n//# sourceMappingURL=subscribeToNewBlock.js.map"]},"metadata":{},"sourceType":"module"}